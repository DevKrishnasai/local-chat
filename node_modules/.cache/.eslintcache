[{"E:\\Projects\\React Projects\\local-chat\\src\\index.js":"1","E:\\Projects\\React Projects\\local-chat\\src\\App.js":"2","E:\\Projects\\React Projects\\local-chat\\src\\context\\ChatContext.js":"3","E:\\Projects\\React Projects\\local-chat\\src\\context\\AuthContext.js":"4","E:\\Projects\\React Projects\\local-chat\\src\\firebase.js":"5","E:\\Projects\\React Projects\\local-chat\\src\\pages\\Login.jsx":"6","E:\\Projects\\React Projects\\local-chat\\src\\pages\\Register.jsx":"7","E:\\Projects\\React Projects\\local-chat\\src\\pages\\Home.jsx":"8","E:\\Projects\\React Projects\\local-chat\\src\\components\\Chat.jsx":"9","E:\\Projects\\React Projects\\local-chat\\src\\components\\Sidebar.jsx":"10","E:\\Projects\\React Projects\\local-chat\\src\\components\\Input.jsx":"11","E:\\Projects\\React Projects\\local-chat\\src\\components\\Messages.jsx":"12","E:\\Projects\\React Projects\\local-chat\\src\\components\\Search.jsx":"13","E:\\Projects\\React Projects\\local-chat\\src\\components\\Navbar.jsx":"14","E:\\Projects\\React Projects\\local-chat\\src\\components\\Chats.jsx":"15","E:\\Projects\\React Projects\\local-chat\\src\\components\\Message.jsx":"16"},{"size":484,"mtime":1694922164547,"results":"17","hashOfConfig":"18"},{"size":1008,"mtime":1694922164542,"results":"19","hashOfConfig":"18"},{"size":946,"mtime":1694922164544,"results":"20","hashOfConfig":"18"},{"size":608,"mtime":1694922164544,"results":"21","hashOfConfig":"18"},{"size":641,"mtime":1694922164544,"results":"22","hashOfConfig":"18"},{"size":1177,"mtime":1694923399329,"results":"23","hashOfConfig":"18"},{"size":3257,"mtime":1694923638346,"results":"24","hashOfConfig":"18"},{"size":313,"mtime":1694922164547,"results":"25","hashOfConfig":"18"},{"size":737,"mtime":1694922164543,"results":"26","hashOfConfig":"18"},{"size":276,"mtime":1694922164544,"results":"27","hashOfConfig":"18"},{"size":3475,"mtime":1694922164543,"results":"28","hashOfConfig":"18"},{"size":1091,"mtime":1694922164543,"results":"29","hashOfConfig":"18"},{"size":3995,"mtime":1694922164544,"results":"30","hashOfConfig":"18"},{"size":578,"mtime":1694922164544,"results":"31","hashOfConfig":"18"},{"size":1439,"mtime":1694922164543,"results":"32","hashOfConfig":"18"},{"size":1028,"mtime":1694922164543,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},"bsond4",{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"37"},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"37"},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"37"},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"37"},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"84","messages":"85","suppressedMessages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},"E:\\Projects\\React Projects\\local-chat\\src\\index.js",[],[],[],"E:\\Projects\\React Projects\\local-chat\\src\\App.js",[],[],"E:\\Projects\\React Projects\\local-chat\\src\\context\\ChatContext.js",[],[],"E:\\Projects\\React Projects\\local-chat\\src\\context\\AuthContext.js",[],[],"E:\\Projects\\React Projects\\local-chat\\src\\firebase.js",[],[],"E:\\Projects\\React Projects\\local-chat\\src\\pages\\Login.jsx",[],[],"E:\\Projects\\React Projects\\local-chat\\src\\pages\\Register.jsx",["87","88"],[],"E:\\Projects\\React Projects\\local-chat\\src\\pages\\Home.jsx",[],[],"E:\\Projects\\React Projects\\local-chat\\src\\components\\Chat.jsx",["89"],[],"import React, { useContext } from \"react\";\r\nimport Messages from \"./Messages\";\r\nimport Input from \"./Input\";\r\nimport { ChatContext } from \"../context/ChatContext\";\r\nimport Navbar from \"./Navbar\";\r\n\r\nconst Chat = () => {\r\n  const { data } = useContext(ChatContext);\r\n\r\n  return (\r\n    <div className=\"chat\">\r\n      <div className=\"chatInfo\">\r\n        <img\r\n          src={\r\n            !data.user.photoURL\r\n              ? \"https://www.pngitem.com/pimgs/m/4-40070_user-staff-man-profile-user-account-icon-jpg.png\"\r\n              : data.user.photoURL\r\n          }\r\n          alt=\"\"\r\n        />\r\n        <span>{data.user?.displayName}</span>\r\n      </div>\r\n      <Messages />\r\n      <Input />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","E:\\Projects\\React Projects\\local-chat\\src\\components\\Sidebar.jsx",["90"],[],"import React from \"react\";\r\nimport Navbar from \"./Navbar\";\r\nimport Search from \"./Search\";\r\nimport Chats from \"./Chats\";\r\n\r\nconst Sidebar = () => {\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <Search />\r\n      <Chats />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","E:\\Projects\\React Projects\\local-chat\\src\\components\\Input.jsx",["91"],[],"import React, { useContext, useState } from \"react\";\r\nimport Img from \"../img/img.png\";\r\nimport Attach from \"../img/attach.png\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { ChatContext } from \"../context/ChatContext\";\r\nimport {\r\n  arrayUnion,\r\n  doc,\r\n  serverTimestamp,\r\n  Timestamp,\r\n  updateDoc,\r\n} from \"firebase/firestore\";\r\nimport { db, storage } from \"../firebase\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport { getDownloadURL, ref, uploadBytesResumable } from \"firebase/storage\";\r\n\r\nconst Input = () => {\r\n  const [text, setText] = useState(\"\");\r\n  const [img, setImg] = useState(null);\r\n  const [sending, setSending] = useState(false);\r\n\r\n  const { currentUser } = useContext(AuthContext);\r\n  const { data } = useContext(ChatContext);\r\n  var temp = \"\";\r\n  const handleSend = async () => {\r\n    temp = text;\r\n    setText(\"\");\r\n    if (!temp && !img) {\r\n      return; // Don't send empty messages\r\n    }\r\n\r\n    setSending(true);\r\n\r\n    try {\r\n      if (img) {\r\n        const storageRef = ref(storage, uuid());\r\n        const uploadTask = uploadBytesResumable(storageRef, img);\r\n\r\n        uploadTask.on(\r\n          (error) => {},\r\n          () => {\r\n            getDownloadURL(uploadTask.snapshot.ref).then(\r\n              async (downloadURL) => {\r\n                await updateDoc(doc(db, \"chats\", data.chatId), {\r\n                  messages: arrayUnion({\r\n                    id: uuid(),\r\n                    text,\r\n                    senderId: currentUser.uid,\r\n                    date: Timestamp.now(),\r\n                    img: downloadURL,\r\n                  }),\r\n                });\r\n              }\r\n            );\r\n          }\r\n        );\r\n      } else {\r\n        await updateDoc(doc(db, \"chats\", data.chatId), {\r\n          messages: arrayUnion({\r\n            id: uuid(),\r\n            text: temp,\r\n            senderId: currentUser.uid,\r\n            date: Timestamp.now(),\r\n          }),\r\n        });\r\n      }\r\n\r\n      await updateDoc(doc(db, \"userChats\", currentUser.uid), {\r\n        [data.chatId + \".lastMessage\"]: {\r\n          text: temp,\r\n        },\r\n        [data.chatId + \".date\"]: serverTimestamp(),\r\n      });\r\n\r\n      await updateDoc(doc(db, \"userChats\", data.user.uid), {\r\n        [data.chatId + \".lastMessage\"]: {\r\n          text: temp,\r\n        },\r\n        [data.chatId + \".date\"]: serverTimestamp(),\r\n      });\r\n      temp = \"\";\r\n      setText(\"\"); // Clear the input field after sending\r\n      setImg(null);\r\n    } catch (error) {\r\n      console.error(\"Error sending message:\", error);\r\n    } finally {\r\n      setSending(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (event) => {\r\n    if (event.key === \"Enter\") {\r\n      event.preventDefault(); // Prevent Enter from adding a new line\r\n      handleSend();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"input\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Type something...\"\r\n        onChange={(e) => setText(e.target.value)}\r\n        onKeyDown={handleKeyDown}\r\n        value={text}\r\n      />\r\n      <div className=\"send\">\r\n        <input\r\n          type=\"file\"\r\n          style={{ display: \"none\" }}\r\n          id=\"file\"\r\n          onChange={(e) => setImg(e.target.files[0])}\r\n        />\r\n        <label htmlFor=\"file\">\r\n          <img src={Img} alt=\"\" />\r\n        </label>\r\n        <button onClick={handleSend} disabled={sending}>\r\n          {sending ? \"Sending...\" : \"Send\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","E:\\Projects\\React Projects\\local-chat\\src\\components\\Messages.jsx",[],[],"E:\\Projects\\React Projects\\local-chat\\src\\components\\Search.jsx",[],[],"E:\\Projects\\React Projects\\local-chat\\src\\components\\Navbar.jsx",["92"],[],"import React, { useContext } from \"react\";\r\nimport { signOut } from \"firebase/auth\";\r\nimport { auth } from \"../firebase\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n  const { currentUser } = useContext(AuthContext);\r\n\r\n  return (\r\n    <div className=\"navbar\">\r\n      <div className=\"user\">\r\n        <span>\r\n          <Link to=\"/\">\r\n            <button onClick={() => signOut(auth)}>logout</button>\r\n          </Link>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","E:\\Projects\\React Projects\\local-chat\\src\\components\\Chats.jsx",[],[],"E:\\Projects\\React Projects\\local-chat\\src\\components\\Message.jsx",[],[],{"ruleId":"93","severity":1,"message":"94","line":12,"column":10,"nodeType":"95","messageId":"96","endLine":12,"endColumn":19},{"ruleId":"93","severity":1,"message":"97","line":15,"column":9,"nodeType":"95","messageId":"96","endLine":15,"endColumn":20},{"ruleId":"93","severity":1,"message":"98","line":5,"column":8,"nodeType":"95","messageId":"96","endLine":5,"endColumn":14},{"ruleId":"93","severity":1,"message":"98","line":2,"column":8,"nodeType":"95","messageId":"96","endLine":2,"endColumn":14},{"ruleId":"93","severity":1,"message":"99","line":3,"column":8,"nodeType":"95","messageId":"96","endLine":3,"endColumn":14},{"ruleId":"93","severity":1,"message":"100","line":8,"column":11,"nodeType":"95","messageId":"96","endLine":8,"endColumn":22},"no-unused-vars","'condition' is assigned a value but never used.","Identifier","unusedVar","'checkLength' is assigned a value but never used.","'Navbar' is defined but never used.","'Attach' is defined but never used.","'currentUser' is assigned a value but never used."]